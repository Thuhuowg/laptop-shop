<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home | Laptop-Shoppe</title>
    <link href="/fe/css/bootstrap.min.css" rel="stylesheet">
    <link href="/fe/css/font-awesome.min.css" rel="stylesheet">
    <link href="/fe/css/prettyPhoto.css" rel="stylesheet">
    <link href="/fe/css/price-range.css" rel="stylesheet">
    <link href="/fe/css/animate.css" rel="stylesheet">
    <link href="/fe/css/sweetalert.css" rel="stylesheet">
    <link href="/fe/css/main.css" rel="stylesheet">
    <link href="/fe/css/responsive.css" rel="stylesheet">

    <style>
        /* Sửa CSS để hiển thị 4 cột */
        .product-item {
            margin-bottom: 30px;
            border: 1px solid #ddd;
            border-radius: 5px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            text-align: center;
            background-color: #fff;
        }

        .product-image img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .product-info {
            padding: 15px;
        }

        .product-info h3 {
            font-size: 18px;
            margin-bottom: 10px;
        }

        .product-info p {
            font-size: 16px;
            color: #333;
        }

        .product-info .product-price {
            font-size: 18px;
            color: #f39c12;
            margin-bottom: 10px;
        }

        .product a.btn {
            background-color: #f39c12;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 5px;
            display: inline-block;
            margin-top: 10px;
        }

        .product a.btn:hover {
            background-color: #e67e22;
        }

        /* Điều chỉnh lại cột sản phẩm */
        .product-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }

        .col-sm-3 {
            width: 23%; /* Chia thành 4 cột mỗi hàng */
            margin-bottom: 20px;
        }
    </style>
</head>

<body>
    <div id="header-container"></div>

    <div id="main-content">
        <div class="container">
            <h1 class="page-title">Danh Sách Sản Phẩm</h1>

            <!-- Hiển thị các sản phẩm -->
            <div id="product-grid" class="row product-grid">
                <!-- Các sản phẩm sẽ được thêm vào đây -->
            </div>
        </div>
    </div>

    <div id="footer-container"></div>

    <!-- JavaScript -->
    <script src="/fontend/js/jquery.js"></script>
    <script src="/fontend/js/bootstrap.min.js"></script>
    <script src="/fontend/js/sweetalert.min.js"></script>
    <script>
        // Tải Header
        fetch('header.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('header-container').innerHTML = data;
            });

        // Tải Footer
        fetch('footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-container').innerHTML = data;
            });

        document.addEventListener('DOMContentLoaded', function () {
            // Gọi API và tải nội dung sản phẩm
            fetch('http://127.0.0.1:8000/api/v1/products')
                .then(response => response.json())
                .then(data => {
                    const productGrid = document.getElementById('product-grid');
                    
                    data.forEach(product => {
                        const productItem = document.createElement('div');
                        productItem.classList.add('col-sm-3', 'product-item'); // Thêm lớp col-sm-3 để chia thành 4 cột

                        productItem.innerHTML = `
                            <div class="product">
                                <div class="product-image">
                                    <img src="/fe/images/product/${product.image_url}" alt="${product.product_name}" />
                                </div>
                                <div class="product-info">
                                    <h3>${product.product_name}</h3>
                                    <p class="product-price">${new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(product.price)}</p>
                                    
                                </div>
                                <a href="#" class="btn btn-primary">Xem Chi Tiết</a>
                            </div>
                        `;
                        productGrid.appendChild(productItem);
                    });
                })
                .catch(error => console.log('Lỗi khi tải sản phẩm:', error));
        });
    </script>
</body>
</html>
